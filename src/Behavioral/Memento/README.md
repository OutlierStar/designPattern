
在上述示例中，我们首先定义了备忘录类 Memento，它保存了发起人对象的状态。

然后，我们定义了发起人类 Originator，它持有一个状态，并提供了设置状态、获取状态、创建备忘录和恢复备忘录的方法。

接下来，我们定义了管理者类 Caretaker，它持有一个备忘录对象，并提供了设置备忘录和获取备忘录的方法。

在使用示例中，我们创建了发起人对象 originator 和管理者对象 caretaker。我们首先设置发起人的初始状态为 "State 1"，然后创建一个备忘录并保存状态到管理者对象。接着，我们修改发起人的状态为 "State 2"，但之后我们又通过管理者对象恢复到了之前保存的备忘录状态。最后，我们输出当前发起人的状态，可以看到状态成功恢复到了 "State 1"。

通过备忘录模式，我们可以在不破坏封装性的前提下，捕获和恢复对象的内部状态。备忘录模式可以用于实现撤销、恢复等功能，以及提供对象状态的历史记录和版本管理。